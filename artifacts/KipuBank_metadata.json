{
	"compiler": {
		"version": "0.8.30+commit.73712a01"
	},
	"language": "Solidity",
	"output": {
		"abi": [
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "_bankCap",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "_maxWithdrawalPerTx",
						"type": "uint256"
					}
				],
				"stateMutability": "nonpayable",
				"type": "constructor"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "attempted",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "bankCap",
						"type": "uint256"
					}
				],
				"name": "ExceedsBankCap",
				"type": "error"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "attempted",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "maxAllowed",
						"type": "uint256"
					}
				],
				"name": "ExceedsMaxWithdrawal",
				"type": "error"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "available",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "required",
						"type": "uint256"
					}
				],
				"name": "InsufficientBalance",
				"type": "error"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "caller",
						"type": "address"
					}
				],
				"name": "NotOwner",
				"type": "error"
			},
			{
				"inputs": [],
				"name": "ReentrantCall",
				"type": "error"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "to",
						"type": "address"
					},
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					}
				],
				"name": "TransferFailed",
				"type": "error"
			},
			{
				"inputs": [],
				"name": "ZeroAddress",
				"type": "error"
			},
			{
				"inputs": [],
				"name": "ZeroAmount",
				"type": "error"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": true,
						"internalType": "address",
						"name": "user",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "newBalance",
						"type": "uint256"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "depositIndex",
						"type": "uint256"
					}
				],
				"name": "Deposit",
				"type": "event"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": true,
						"internalType": "address",
						"name": "owner",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "bankBalanceAfter",
						"type": "uint256"
					}
				],
				"name": "OwnerWithdrawal",
				"type": "event"
			},
			{
				"anonymous": false,
				"inputs": [
					{
						"indexed": true,
						"internalType": "address",
						"name": "user",
						"type": "address"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "newBalance",
						"type": "uint256"
					},
					{
						"indexed": false,
						"internalType": "uint256",
						"name": "withdrawalIndex",
						"type": "uint256"
					}
				],
				"name": "Withdrawal",
				"type": "event"
			},
			{
				"stateMutability": "payable",
				"type": "fallback"
			},
			{
				"inputs": [],
				"name": "VERSION",
				"outputs": [
					{
						"internalType": "string",
						"name": "",
						"type": "string"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "bankCap",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "deposit",
				"outputs": [],
				"stateMutability": "payable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "user",
						"type": "address"
					}
				],
				"name": "getBalance",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "maxWithdrawalPerTx",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "owner",
				"outputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					}
				],
				"name": "ownerWithdrawFromBank",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "summary",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "bankBalance_",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "deposits_",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "withdrawals_",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "cap_",
						"type": "uint256"
					},
					{
						"internalType": "uint256",
						"name": "maxWithdraw_",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "totalBankBalance",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "totalDepositsCount",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [],
				"name": "totalWithdrawalsCount",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "newOwner",
						"type": "address"
					}
				],
				"name": "transferOwnership",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"name": "userDepositsCount",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "address",
						"name": "",
						"type": "address"
					}
				],
				"name": "userWithdrawalsCount",
				"outputs": [
					{
						"internalType": "uint256",
						"name": "",
						"type": "uint256"
					}
				],
				"stateMutability": "view",
				"type": "function"
			},
			{
				"inputs": [
					{
						"internalType": "uint256",
						"name": "amount",
						"type": "uint256"
					}
				],
				"name": "withdraw",
				"outputs": [],
				"stateMutability": "nonpayable",
				"type": "function"
			},
			{
				"stateMutability": "payable",
				"type": "receive"
			}
		],
		"devdoc": {
			"kind": "dev",
			"methods": {
				"constructor": {
					"params": {
						"_bankCap": "Límite máximo de ETH del banco",
						"_maxWithdrawalPerTx": "Máximo retiro por transacción"
					}
				},
				"getBalance(address)": {
					"params": {
						"user": "Dirección a consultar"
					},
					"returns": {
						"_0": "Balance del usuario en wei"
					}
				},
				"ownerWithdrawFromBank(uint256)": {
					"details": "Esta función permite al owner extraer cualquier cantidad del balance total,      incluidos fondos depositados por otros usuarios. Esto implica un riesgo para      los depositantes: el owner puede vaciar el banco en cualquier momento.",
					"params": {
						"amount": "Monto a retirar"
					}
				},
				"summary()": {
					"returns": {
						"bankBalance_": "Balance total",
						"cap_": "Límite del banco",
						"deposits_": "Total de depósitos",
						"maxWithdraw_": "Límite de retiro por operación",
						"withdrawals_": "Total de retiros"
					}
				},
				"transferOwnership(address)": {
					"params": {
						"newOwner": "Nueva dirección de owner"
					}
				},
				"withdraw(uint256)": {
					"params": {
						"amount": "Cantidad a retirar en wei"
					}
				}
			},
			"stateVariables": {
				"_ENTERED": {
					"details": "Valor de entrada para control de reentrancy"
				},
				"_NOT_ENTERED": {
					"details": "Valor por defecto para control de reentrancy"
				},
				"_status": {
					"details": "Estado para control de reentrancy"
				}
			},
			"title": "KipuBank - Banco simple para depósitos y retiros de ETH con límites y seguridad",
			"version": 1
		},
		"userdoc": {
			"errors": {
				"ExceedsBankCap(uint256,uint256)": [
					{
						"notice": "El depósito supera el límite global del banco"
					}
				],
				"ExceedsMaxWithdrawal(uint256,uint256)": [
					{
						"notice": "El monto excede el retiro máximo por transacción"
					}
				],
				"InsufficientBalance(uint256,uint256)": [
					{
						"notice": "El usuario no tiene suficiente saldo para esta acción"
					}
				],
				"NotOwner(address)": [
					{
						"notice": "Solo el owner puede ejecutar esta función"
					}
				],
				"ReentrantCall()": [
					{
						"notice": "Se detectó un intento de reentrancia"
					}
				],
				"TransferFailed(address,uint256)": [
					{
						"notice": "Falló la transferencia de ETH"
					}
				],
				"ZeroAddress()": [
					{
						"notice": "No se permite la dirección 0 como owner"
					}
				],
				"ZeroAmount()": [
					{
						"notice": "No se puede enviar ni retirar 0 ETH"
					}
				]
			},
			"events": {
				"Deposit(address,uint256,uint256,uint256)": {
					"notice": "Se emite al depositar ETH"
				},
				"OwnerWithdrawal(address,uint256,uint256)": {
					"notice": "Se emite cuando el owner retira del banco"
				},
				"Withdrawal(address,uint256,uint256,uint256)": {
					"notice": "Se emite al retirar ETH"
				}
			},
			"kind": "user",
			"methods": {
				"VERSION()": {
					"notice": "Versión del contrato"
				},
				"bankCap()": {
					"notice": "Límite máximo de ETH que puede tener el banco"
				},
				"constructor": {
					"notice": "Constructor, setea límites e inicializa el owner"
				},
				"deposit()": {
					"notice": "Deposita ETH en la bóveda personal"
				},
				"getBalance(address)": {
					"notice": "Devuelve el balance de un usuario"
				},
				"maxWithdrawalPerTx()": {
					"notice": "Máximo que se puede retirar por transacción"
				},
				"owner()": {
					"notice": "Dirección del dueño del contrato"
				},
				"ownerWithdrawFromBank(uint256)": {
					"notice": "Permite al owner retirar del banco SIN afectar balances individuales."
				},
				"summary()": {
					"notice": "Devuelve el resumen global del banco"
				},
				"totalBankBalance()": {
					"notice": "Balance global del banco"
				},
				"totalDepositsCount()": {
					"notice": "Contador global de depósitos"
				},
				"totalWithdrawalsCount()": {
					"notice": "Contador global de retiros"
				},
				"transferOwnership(address)": {
					"notice": "Cambia el owner del contrato, no se permite address(0)"
				},
				"userDepositsCount(address)": {
					"notice": "Cantidad de depósitos por usuario"
				},
				"userWithdrawalsCount(address)": {
					"notice": "Cantidad de retiros por usuario"
				},
				"withdraw(uint256)": {
					"notice": "Retira ETH de la bóveda personal respetando los límites"
				}
			},
			"version": 1
		}
	},
	"settings": {
		"compilationTarget": {
			"contracts/kipu_bank.sol": "KipuBank"
		},
		"evmVersion": "prague",
		"libraries": {},
		"metadata": {
			"bytecodeHash": "ipfs"
		},
		"optimizer": {
			"enabled": false,
			"runs": 200
		},
		"remappings": []
	},
	"sources": {
		"contracts/kipu_bank.sol": {
			"keccak256": "0x424afd63fabb76a2105d0456b3e8433560a776324ef3f62783e9b5e92c7f524a",
			"license": "MIT",
			"urls": [
				"bzz-raw://2d12d44baf72c576c46d8797e19f10646db5842d168673102ca3f64b62395f72",
				"dweb:/ipfs/QmbL54tDhEH8hzDs97zfDewk6rHVdxatPfD65EEUH2uogW"
			]
		}
	},
	"version": 1
}